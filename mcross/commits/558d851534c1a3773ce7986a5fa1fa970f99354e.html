<!DOCTYPE html>
<html lang="en" style="font-family: monospace;"><head><title>[558d851534] move CLI parsing out of controller, bump 0.5.12 | mcross | Boast</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body><strong><a href="../../">Repos</a> / <a href="../">mcross</a> / 558d851534</strong><hr><pre>commit 558d851534c1a3773ce7986a5fa1fa970f99354e
Author: Bùi Thành Nhân &lt;hi@imnhan.com&gt;
Date:   Tue Jun 2 12:02:20 2020 +0700

    move CLI parsing out of controller, bump 0.5.12

diff --git a/README.md b/README.md
index 177e45f..4ba5d9f 100644
--- a/README.md
+++ b/README.md
@@ -29,6 +29,16 @@ # Installation
 Better distribution methods to be explored later.
 Maybe it&#39;s finally time to try nuitka?
 
+# Usage
+
+CLI arguments: `--textfont`, `--monofont`
+
+Keyboard shortcuts:
+
+- `Ctrl-l`: jump to address bar.
+- Hold `Alt` to see possible button shortcuts underlined. This is what Qt calls
+  [Accelerator Keys](https://doc.qt.io/qt-5/accelerators.html).
+
 
 # Development
 
diff --git a/pyproject.toml b/pyproject.toml
index 77e2e7a..9910a78 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -1,6 +1,6 @@
 [tool.poetry]
 name = &quot;mcross&quot;
-version = &quot;0.5.11&quot;
+version = &quot;0.5.12&quot;
 description = &quot;Do you remember www?&quot;
 authors = [&quot;nhanb &lt;hi@imnhan.com&gt;&quot;]
 license = &quot;MIT&quot;
diff --git a/src/mcross/__init__.py b/src/mcross/__init__.py
index 41a25c8..200999f 100644
--- a/src/mcross/__init__.py
+++ b/src/mcross/__init__.py
@@ -1,6 +1,16 @@
+import argparse
+
 from .gui.controller import Controller
 
 
 def run():
-    c = Controller()
+
+    # Parse CLI arguments
+    argparser = argparse.ArgumentParser()
+    argparser.add_argument(&quot;--textfont&quot;)
+    argparser.add_argument(&quot;--monofont&quot;)
+    args = argparser.parse_args()
+
+    # Actually start the program
+    c = Controller(args)
     c.run()
diff --git a/src/mcross/gui/controller.py b/src/mcross/gui/controller.py
index 0a8fa8a..92d59c7 100644
--- a/src/mcross/gui/controller.py
+++ b/src/mcross/gui/controller.py
@@ -2,7 +2,6 @@
 import threading
 import time
 import traceback
-import argparse
 from ssl import SSLCertVerificationError
 from tkinter import READABLE, Tk, messagebox
 
@@ -20,21 +19,13 @@
 
 statusbar_logger = logging.getLogger(&quot;statusbar&quot;)
 
-argparser = argparse.ArgumentParser()
-argparser.add_argument(&quot;--textfont&quot;)
-argparser.add_argument(&quot;--monofont&quot;)
-args = argparser.parse_args()
 
 class Controller:
-    def __init__(self):
+    def __init__(self, args):
         self.root = Tk()
         self.root.alt_shortcuts = set()
         self.model = Model()
-        self.view = View(
-            self.root,
-            self.model,
-            fonts=(args.textfont, args.monofont)
-        )
+        self.view = View(self.root, self.model, fonts=(args.textfont, args.monofont))
         self.root.title(&quot;McRoss Browser&quot;)
         self.root.geometry(&quot;800x600&quot;)
 
</pre></body></html>